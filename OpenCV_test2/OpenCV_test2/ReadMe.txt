Here was made the way to download template frames from video on the border of pieces by mouse clicking and to add them to verifying sequence. Templates are saving on computer and after that it is necessary to rename they by hands (automatycally adding is not ready yet). You can choose the frame again. If the algorithm have found the border in video you will see a big RED POINT on left side from the screen. Besides in another window it is possible to see how the hist of video is chanching. The work of algorithm is not ideal. If you want to increase the characteristics it should choose "good" frames and do add them to reference sequence, besides it is possible to change threshold, but in this case the mistakes are possible. Now the threshold is quite low because of mistakes on similar frames. The results are better on "white" frames and badder on "gray" or mixed frames. If the reference sequence is empty you can clicke on any frame to see example of algorithm work on next similar frames. Big RED POINT.

Добавлена возможность формировать последовательность из существующих кадров, а также сравнения их цветовых гистограмм. Образцы сохраняются на компьютере, после этого их необходимо вручную переименовать и перенумеровать, автоматическое добавление на данный момент еще не реализовано. Тем не менее, можно выбирать опорные кадры во время проигрыша видео. Если алгоритм обнаружил границу сшивки, то вы увидете большую красную точку в левой части экрана. Работу алгоритма можно корректировать во время просмотра видео, левой клавишей мыши, однако не забывая потом добавлять выбранные кадры в опорную последовательность вручную. Работа алгоритма не идеальна, лучшие результаты дают белые кадры, хуже серие и смешанные. Улучшить алгоритм можно добавлением хороших опорных кадров и увеличением порога срабатывания. Однако, в этом случае возможны ошибки на похожих обычного видео. На данный момент порог срабатывания достаточно низкий, чтобы избежать ошибок. Если опорная последовательность пуста, работу алгорима можно увидеть щелкая мышкой на произвольном кадре, алгоритм будет срабатывать на похожих кадрах рядом с указанным кадром. Похожие кадры в смысле схожести цветового диапазона. Недостатки - довольно высокая вычистительная стоимость, кроме того, для хорошей работы необходимо сформировать довольно большую последовательность из опорных кадров. Опорные кадры - кадры на основе которых алгоритм принимает решение о срабатывании: белые, серые, смешанные, черные.
Что не доделано: хочется реализовать нормальный класс с возможностью добавления кадров в опорную последовательность прямо во время проигрыша видео, однако в этом случае возможны ошибки (неправильное кликание мышкой, правильнее принимать решение о добавлении кадра в опорные после работы с видео), сформировать видеоряд для быстрой проверки работоспособности алгоритма, добавить возможность корректировки видео с помощью алгоритма (удалить кадры сшивки), опционально получение информации о границах сшивки (время, номер кадра). На данный момент опорная последовательнсть включает в себя 30 кадров и это не предел. Радует наличие малого количества ложных срабатываний. Возможные альтернативы: в будущем хотелось бы рассмотреть возможность сравнивания кадров с помощью анализа контуров или с использонием перцептивныго хэша (монохромный отпечаток каждого кадра). Допускаю увеличение количества ошибок алгоритма.
========================================================================
    КОНСОЛЬНОЕ ПРИЛОЖЕНИЕ. Обзор проекта OpenCV_test2
========================================================================

Это приложение OpenCV_test2 создано автоматически с помощью мастера приложений.

В этом файле представлена сводка содержимого всех файлов, входящих в состав приложения OpenCV_test2.


OpenCV_test2.vcxproj
    Это основной файл проекта VC++, создаваемый с помощью мастера приложений. Он содержит данные о версии языка Visual C++, использованной для создания файла, а также сведения о платформах, конфигурациях и функциях проекта, выбранных с помощью мастера приложений.

OpenCV_test2.vcxproj.filters
    Это файл фильтров для проектов VC++, созданный с помощью мастера приложений. Он содержит сведения о сопоставлениях между файлами в вашем проекте и фильтрами. Эти сопоставления используются в среде IDE для группировки файлов с одинаковыми расширениями в одном узле (например CPP-файлы сопоставляются с фильтром "Исходные файлы").

OpenCV_test2.cpp
    Это основной исходный файл приложения.

/////////////////////////////////////////////////////////////////////////////
Другие стандартные файлы:

StdAfx.h, StdAfx.cpp
    Эти файлы используются для построения файла предкомпилированного заголовка (PCH) с именем OpenCV_test2.pch и файла предкомпилированных типов с именем StdAfx.obj.

/////////////////////////////////////////////////////////////////////////////
Прочие примечания.

С помощью комментариев «TODO:» в мастере приложений обозначаются фрагменты исходного кода, которые необходимо дополнить или изменить.

/////////////////////////////////////////////////////////////////////////////
